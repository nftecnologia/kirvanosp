#!/bin/bash

# Revert Script: Switch back to Railway cloud services

echo "ğŸš€ Switching back to Railway cloud services..."

# Restore Railway configuration
if [ -f ".env.railway.backup" ]; then
    cp .env.railway.backup .env
    echo "âœ… Restored Railway configuration"
else
    echo "âŒ Railway backup configuration not found"
    exit 1
fi

# Disable development caching (Railway services are slower, avoid caching timeouts)
if [ -f "tmp/caching-dev.txt" ]; then
    rm tmp/caching-dev.txt
    echo "âœ… Disabled development caching"
fi

echo ""
echo "ğŸ‰ Railway configuration restored!"
echo ""
echo "Configuration restored:"
echo "  âœ“ Railway PostgreSQL database"
echo "  âœ“ Railway Redis"
echo "  âœ“ Development caching disabled"
echo ""
echo "You can now restart your Rails server:"
echo "  pnpm dev"
echo "  or"
echo "  overmind start -f ./Procfile.dev"